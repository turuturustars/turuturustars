# ğŸ¨ Cloudflare Turnstile - Visual Implementation Guide

## ğŸ“Š User Interface Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 REGISTRATION STEP 1                      â”‚
â”‚            Personal Information (Required)               â”‚
â”‚                                                          â”‚
â”‚  Let's start with your basic information               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FORM FIELDS                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  Full Name *                                             â”‚
â”‚  [________________________]                              â”‚
â”‚                                                          â”‚
â”‚  ID Number *              â”‚ Phone Number *              â”‚
â”‚  [_____________]          â”‚ [_________________]         â”‚
â”‚                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ›¡ï¸ SECURITY VERIFICATION *                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚              â”‚ I'm not a robot         â”‚                â”‚
â”‚              â”‚ Cloudflare             â”‚                â”‚
â”‚              â”‚ [checkbox] â˜‘ï¸           â”‚                â”‚
â”‚              â”‚ Privacy - Terms         â”‚                â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                          â”‚
â”‚  âœ… Security verification completed                      â”‚
â”‚                                                          â”‚
â”‚  This helps us keep your account secure                 â”‚
â”‚                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [< Back]  [Skip]  [Next >]                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ State Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  USER JOURNEY                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. PAGE LOAD
   â”œâ”€ Check authentication
   â”œâ”€ Load StepByStepRegistration
   â””â”€ Render Step 1
      â†“

2. STEP 1 ACTIVE (currentStep === 0)
   â”œâ”€ useEffect triggered
   â”œâ”€ renderCaptcha('turnstile-container') called
   â”œâ”€ Turnstile script loads from CDN
   â”œâ”€ Widget renders in container
   â””â”€ User sees checkbox
      â†“

3. USER INTERACTION
   â”œâ”€ User fills form fields
   â”‚  â”œâ”€ Full Name
   â”‚  â”œâ”€ ID Number
   â”‚  â””â”€ Phone Number
   â”‚
   â””â”€ User completes Turnstile
      â”œâ”€ Clicks checkbox
      â”œâ”€ Completes challenge (if needed)
      â”œâ”€ Token obtained from Cloudflare
      â”œâ”€ Hook callback triggered
      â””â”€ turnstileToken stored in state
         â†“

4. USER CLICKS NEXT
   â”œâ”€ validateStep('personal-info') called
   â”œâ”€ Checks:
   â”‚  â”œâ”€ fullName not empty âœ“
   â”‚  â”œâ”€ phone valid âœ“
   â”‚  â”œâ”€ idNumber not empty âœ“
   â”‚  â””â”€ turnstileToken exists? â† KEY CHECK
   â”‚
   â”œâ”€ IF ALL CHECKS PASS:
   â”‚  â”œâ”€ setCurrentStep(1)
   â”‚  â””â”€ Proceed to Step 2
   â”‚
   â””â”€ IF TURNSTILE MISSING:
      â”œâ”€ setErrors({turnstile: '...'})
      â”œâ”€ Show toast: "Validation Error"
      â””â”€ Stay on Step 1
         â†“

5. MOVING TO STEP 2 (currentStep !== 0)
   â”œâ”€ useEffect triggered again
   â”œâ”€ removeCaptcha() called
   â””â”€ Widget cleaned up
      â†“

6. PROGRESSION CONTINUES
   â””â”€ Steps 2-6 continue normally
      (No Turnstile on other steps)
```

---

## ğŸ­ UI States

### State 1: Initial Load
```
ğŸ›¡ï¸ Security Verification *
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Loading widget...]             â”‚
â”‚  âŒ› Please wait...                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
This helps us keep your account secure
```

### State 2: Widget Ready
```
ğŸ›¡ï¸ Security Verification *
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                  â”‚
â”‚   I'm not a robot               â”‚
â”‚   Cloudflare                    â”‚
â”‚   â˜ [checkbox]                   â”‚
â”‚                                  â”‚
â”‚   Privacy - Terms               â”‚
â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
This helps us keep your account secure
```

### State 3: Completed (Success)
```
ğŸ›¡ï¸ Security Verification *
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                  â”‚
â”‚   I'm not a robot               â”‚
â”‚   Cloudflare                    â”‚
â”‚   â˜‘ï¸ [checked!]                   â”‚
â”‚                                  â”‚
â”‚   Privacy - Terms               â”‚
â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
âœ… Security verification completed
This helps us keep your account secure
```

### State 4: Error
```
ğŸ›¡ï¸ Security Verification *
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Error loading widget]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
âš ï¸ Captcha error. Please try again.
This helps us keep your account secure
```

### State 5: Missing (Validation Error)
```
ğŸ›¡ï¸ Security Verification *
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Empty - not verified]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
âš ï¸ Please complete the security verification
This helps us keep your account secure
```

---

## ğŸ”— Component Integration

```typescript
// IMPORT HOOK
import { useTurnstile } from '@/hooks/useTurnstile';

// GET HOOK VALUES
const {
  token: turnstileToken,           â† Token from widget
  error: turnstileError,           â† Error message
  renderCaptcha,                   â† Render function
  reset: resetCaptcha,             â† Reset function
  remove: removeCaptcha,           â† Remove function
} = useTurnstile();

// LIFECYCLE MANAGEMENT
useEffect(() => {
  if (currentStep === 0) {
    renderCaptcha('turnstile-container');
  } else {
    removeCaptcha();
  }
}, [currentStep, renderCaptcha, removeCaptcha]);

// VALIDATION
const validateStep = (stepId) => {
  if (stepId === 'personal-info') {
    if (!turnstileToken) {
      newErrors.turnstile = 'Please complete...';
    }
  }
};

// UI RENDERING
{currentStepData.id === 'personal-info' && (
  <div>
    <div id="turnstile-container" />
    {turnstileError && <ErrorMessage>{turnstileError}</ErrorMessage>}
    {turnstileToken && <SuccessMessage>Verified</SuccessMessage>}
  </div>
)}
```

---

## ğŸŒ“ Dark Mode Support

### Light Mode
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ›¡ï¸ Security Verification    â”‚  â† Icon in primary color
â”‚                              â”‚
â”‚   [Cloudflare Widget]        â”‚  â† Light background
â”‚                              â”‚
â”‚ âœ… Security verification...  â”‚  â† Green checkmark
â”‚                              â”‚
â”‚ This helps us keep...        â”‚  â† Gray text
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Dark Mode
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ›¡ï¸ Security Verification    â”‚  â† Icon in primary color
â”‚                              â”‚
â”‚   [Cloudflare Widget]        â”‚  â† Dark background
â”‚                              â”‚
â”‚ âœ… Security verification...  â”‚  â† Light green checkmark
â”‚                              â”‚
â”‚ This helps us keep...        â”‚  â† Light gray text
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± Mobile Responsive

```
DESKTOP (>768px)          TABLET (640-768px)     MOBILE (<640px)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   â”‚    â”‚                  â”‚   â”‚             â”‚
â”‚  Full Name        â”‚    â”‚   Full Name      â”‚   â”‚ Full Name   â”‚
â”‚  [____________]   â”‚    â”‚   [___________]  â”‚   â”‚ [_________] â”‚
â”‚                   â”‚    â”‚                  â”‚   â”‚             â”‚
â”‚  ID # â”‚ Phone #   â”‚    â”‚   ID Number      â”‚   â”‚ ID Number   â”‚
â”‚  [__] â”‚ [_______] â”‚    â”‚   [___________]  â”‚   â”‚ [_________] â”‚
â”‚                   â”‚    â”‚                  â”‚   â”‚             â”‚
â”‚                   â”‚    â”‚   Phone Number   â”‚   â”‚ Phone #     â”‚
â”‚ ğŸ›¡ï¸ Security      â”‚    â”‚   [___________]  â”‚   â”‚ [_________] â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚                  â”‚   â”‚             â”‚
â”‚ â”‚   [Widget]    â”‚ â”‚    â”‚ ğŸ›¡ï¸ Security     â”‚   â”‚ ğŸ›¡ï¸Security â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                   â”‚    â”‚ â”‚ [Widget]   â”‚  â”‚   â”‚â”‚[Widget] â”‚  â”‚
â”‚                   â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ [Back] [Next]     â”‚    â”‚                  â”‚   â”‚             â”‚
â”‚                   â”‚    â”‚ [Back] [Next]    â”‚   â”‚[B] [Skip][N]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”€ Error Handling Flow

```
renderCaptcha('container')
        â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Is VITE_KEY   â”‚
    â”‚ configured?   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“
       NO â†’ Throw error
            â”‚
            â””â†’ "Site key not configured"

        YES â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Wait for      â”‚
    â”‚ Turnstile API â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“
       FAIL â†’ Throw error
            â”‚
            â””â†’ "Turnstile script failed to load"

       SUCCESS â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Render widget â”‚
    â”‚ in container  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“
       SUCCESS â†’ token stored in state
            â”‚
            â””â†’ UI shows âœ…

       ERROR â†’ error stored in state
            â”‚
            â””â†’ UI shows âš ï¸ message
```

---

## ğŸ“Š Data Flow

```
TURNSTILE HOOK STATE:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ token: string | null           â”‚  â† Current captcha token
â”‚ isLoading: boolean             â”‚  â† Widget loading state
â”‚ error: string | null           â”‚  â† Error message
â”‚ widgetIdRef: current widget ID â”‚  â† Internal reference
â”‚ containerIdRef: container ID   â”‚  â† Internal reference
â”‚ isScriptLoadedRef: loaded?     â”‚  â† Internal flag
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ (passed to component)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ turnstileToken                 â”‚  â† Used in validation
â”‚ turnstileError                 â”‚  â† Displayed in UI
â”‚ renderCaptcha()                â”‚  â† Called in useEffect
â”‚ removeCaptcha()                â”‚  â† Called in useEffect
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ validateStep() checks token    â”‚  â† Validation logic
â”‚ if (!turnstileToken)           â”‚
â”‚   newErrors.turnstile = '...'  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UI renders:                    â”‚
â”‚ â€¢ Error message (if error)     â”‚  â† Red background
â”‚ â€¢ Success message (if token)   â”‚  â† Green background
â”‚ â€¢ Widget (in container)        â”‚  â† Centered
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Validation Logic Flowchart

```
USER CLICKS "NEXT" BUTTON
        â†“
validateStep('personal-info')
        â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Check:                  â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ âœ“ Full Name not empty   â”‚â”€â†’ NO â†’ Add error
    â”‚ âœ“ Phone valid (10+ ch)  â”‚â”€â†’ NO â†’ Add error
    â”‚ âœ“ ID Number not empty   â”‚â”€â†’ NO â†’ Add error
    â”‚ âœ“ TURNSTILE TOKEN âœ“     â”‚â”€â†’ NO â†’ Add error
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“
    ALL ERRORS?
        â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â†“             â†“
   YES           NO
    â†“             â†“
  Show       setCurrentStep(+1)
  Toast      â†“
    â†“     Proceed to
  Stay on   Step 2
  Step 1
```

---

## ğŸ¬ Animation Timeline

```
STEP 1 BECOMES ACTIVE (currentStep = 0):
â”œâ”€ 0ms:   useEffect triggers
â”œâ”€ 100ms: setTimeout calls renderCaptcha
â”œâ”€ 150ms: Wait for Turnstile API
â”œâ”€ 200ms: Widget renders in container
â”œâ”€ 300ms: Widget displays with fade-in
â””â”€ >300ms: Widget interactive

USER COMPLETES TURNSTILE:
â”œâ”€ Click: Checkbox becomes checked
â”œâ”€ Process: Cloudflare verifies
â”œâ”€ Response: Token returned
â”œâ”€ Update: turnstileToken stored
â”œâ”€ Render: Success message appears (fade-in)
â””â”€ Ready: User can click Next

MOVING TO STEP 2 (currentStep = 1):
â”œâ”€ 0ms:   useEffect triggers
â”œâ”€ 10ms:  removeCaptcha() called
â”œâ”€ 50ms:  Widget removed from DOM
â””â”€ 100ms: Step 2 renders
```

---

## ğŸ“ Reference

**For complete documentation**, see:
- `TURNSTILE_IMPLEMENTATION.md` - Implementation details
- `TURNSTILE_QUICK_REFERENCE.md` - API reference
- `TURNSTILE_HTML_REFERENCE.md` - HTML/JSX structure
- `src/hooks/useTurnstile.ts` - Hook source code
- `src/components/auth/TurnstileExamples.tsx` - Code examples

---

**Visualization Guide**: January 27, 2026 âœ…
